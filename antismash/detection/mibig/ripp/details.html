<div class="details">
    <div class="heading">
        <span>RiPP-specific information</span>
    </div>
    <div>
        <table border="1" style="width: 100%; margin-bottom: .4em;">
            <tbody>
                <tr>
                    <td width="25%">
                        <strong>Subclass</strong>
                    </td>
                    <td>
                        {{ripp.get("subclass", "Unknown")}}
                    </td>
                </tr>
                <tr>
                    <td width="25%">
                        <strong>Cyclic?</strong>
                    </td>
                    <td>
                        {{"yes" if ripp.get("cyclic") else "no"}}
                    </td>
                </tr>
                {% if "peptidases" in ripp %}
                <tr>
                    <td width="25%">
                        <strong>Peptidases</strong>
                    </td>
                    <td>
                        <ul style="padding: 0; margin: 0; list-style: none;">
                            {% for pep in ripp["peptidases"] %}
                            <li>
                                {{pep}}
                            </li>
                            {% endfor %}
                        </ul>
                    </td>    
                </tr>
                {% endif %}
                {% if "precursor_genes" in ripp %}
                {% for precursor in ripp["precursor_genes"] %}
                <tr>
                    {% if loop.index == 1 %}
                    <td rowspan="{{ripp['precursor_genes']|length}}" style="text-align:center; vertical-align: middle;">
                    Precursor genes
                    </td>
                    {% endif %}
                    <td>
                        <div style="margin-bottom: 1em;">
                            <strong>
                                >{{precursor.get("gene_id", "?")}}
                            </strong><br />
                            Leader sequence: {{precursor.get("leader_sequence", "?")}}<br />
                            Recognition motif: {{precursor.get("recognition_motif", "?")}}<br />
                            Core sequences: <br />
                            <ul style="padding:0; padding-left: 1em; margin:0;">
                                {% for seq in precursor.get("core_sequence", []) %}
                                <li>
                                    {{seq}}
                                </li>
                                {% endfor %}
                            </ul>
                            Follower sequence: {{precursor.get("follower_sequence", "?")}}<br />
                            {% if precursor.get("crosslinks") %}
                            Crosslinks: <br />
                            <ul style="padding:0; padding-left: 1em; margin:0;">
                                {% for cl in precursor["crosslinks"] %}
                                <li>
                                    {{cl.get("first_AA", "?")}}x{{cl.get("second_AA", "?")}}
                                    ({{cl.get("crosslink_type", "?")}})
                                </li>
                                {% endfor %}
                            </ul>
                            {% endif %}
                            {% if precursor.get("cleavage_recogn_site") %}
                            Cleavage recognition sites: <br />
                            <ul style="padding:0; padding-left: 1em; margin:0;">
                                {% for site in precursor["cleavage_recogn_site"] %}
                                <li>
                                    {{site}}
                                </li>
                                {% endfor %}
                            </ul>
                            {% endif %}
                        </div>
                    </td>
                </tr>
                {% endfor %}
                {% endif %}
            </tbody>
        </table>
    </div>
</div>
