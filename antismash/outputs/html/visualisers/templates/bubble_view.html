<div class="details">
    <div class="heading">
      <span>Module view</span>
      {{help_tooltip("Shows module structures for each candidate in <a href='{0}glossary/#nrps' target='_blank'>NRPS</a>- and <a href='{0}glossary/#t1pks' target='_blank'>PKS</a>
                     regions. Genes are shown in predicted order, and are only present when containing at least one complete module.
                     A domain glossary is available <a href='{0}modules/nrps_pks_domains/' target='_blank'>here</a>.".format(docs_url), "nrps-pks-bubble-tooltip")}}
      <div class="download-container">
        <div class="download-icon download-svg" data-tag="{{region.anchor_id}}-domain-bubble-svg" data-filename="{{record.id}}_{{region.anchor_id}}_domain_bubbles.svg">
        </div>
      </div>
    </div>
    <select id="{{region.anchor_id}}-domain-bubble-select" class="nrps-bubble-selector">
    {% for candidate in region.candidate_clusters %}
      {% if candidate.smiles or candidate.polymer %}
        <option value="CC{{candidate.number}}">
          Candidate {{candidate.number}} ({{candidate.location.start}} - {{candidate.location.end}}): {{candidate.kind}} {{candidate.products}}
        </option>
      {% endif %}
    {% endfor %}
    </select>
    {# this next div is populated by javascript #}
    <div class="details-svg" id="{{region.anchor_id}}-domain-bubble-svg-container" style="overflow:auto;">
    </div>
    <div class="bubble-legend-title">Legend</div>
    {# this next div is populated by javascript #}
    <div class="bubble-legend-container" id="{{region.anchor_id}}-bubble-legend"></div>
</div>
